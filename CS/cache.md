1. SeoulEx

   서울거래 앱에 맞는 캐싱 시스템을 제안 <br>
   DB, CPU, 메모리, 네트워크, 앱, 서버, 통신망, 등 <br>
   모든 전산 시스템의 제약이 없다고 가정 <br>
   자신이 아는 지식 내에서 제안 <br><br>

   본 내용은 이메일 본문에 작성하며, 별도 파일 첨부 X <br>
   어떤 동작(또는 화면)에 어떤 캐싱을 어떤식으로 적용할지 최대한 자세히 설명

---

```
- 캐싱은 자주 사용되거나 재사용 가능한 데이터를
  빠르게 접근하기 위해 저장하는 기술

  1. 유저 정보 및 세션 관리
      로그인한 사용자의 세션 정보, 프로필 정보, 환경 설정 등을 캐싱 가능
      이는 사용자가 서비스를 이용하는 동안 반복적으로 필요한 정보이므로
      빠른 접근성을 위해 캐싱하는 것이 유용

  2. 주식 정보
      특정 비상장 주식에 대한 최근 거래 가격, 거래량, 거래 히스토리 등의
      정보는 자주 접근되며 실시간성이 중요한 데이터
      이를 캐시에 저장해 두면 데이터베이스에 대한 부하를 줄이고
      사용자에게 더 빠른 응답을 제공 가능

  3. 검색 결과
      사용자가 주식 검색을 했을 때의 결과를 캐싱해두면
      동일한 검색 요청이 들어왔을 때 빠르게 결과를 제공 가능
      검색 패턴을 분석해 주요 검색어에 대한 결과는 미리 캐싱해두는 것도 고려

  4. API 응답
      외부 API를 통해 가져오는 데이터(예: 금융 정보, 환율 등)가 자주 사용되는 경우,
      이를 캐싱하면 외부 서비스에 대한 의존성과 네트워크 지연을 줄일 수 있음

```

- `캐시를 사용할 때 고려해야할 사항들`

```
- 캐시 업데이트 정책
    캐시는 최신 정보를 반영 필수
    따라서 데이터가 변경될 때 캐시도 함께 업데이트
    이를 위한 적절한 캐시 무효화(invalidation) 전략이 필요

- 캐시 만료 시간(TTL, Time-To-Live)
    어떤 데이터는 일정 시간 후에 만료 필수
    만료 시간을 설정하여 오래된 데이터가 캐시에 남아있지 않도록 관리

- 메모리 관리
    캐시는 메모리 공간을 사용하므로 적절한 용량 관리가 필요
    필요 이상으로 많은 데이터를 캐시하면 메모리 부족 문제가 발생할 수 있으니,
    어떤 데이터를 캐시할지, 얼마나 오래 보관할지 등을 신중하게 결정

- 캐시 적중률
    캐시를 효과적으로 활용하기 위해서는 캐시 적중률(cache hit rate)을 모니터링
    이를 높이는 데 노력을 기울여야 함
    캐시 적중률이 낮다면 캐싱 전략을 재검토해봐야 할 필요
```

---

## 나의 답안

- 모든 전산 시스템의 제약이 없다 가정한 서울거래 앱에 맞는 캐싱 시스템 제안

- `캐싱은 자주 사용되거나 재사용 가능한 데이터를 빠르게 접근하기 위해 저장하는 기술`

<br>

1. 사용자 및 세션 정보 캐싱
   가장 일반적인 캐싱으로 로그인에 사용되는 JWT 와 같은 인증 정보를 캐싱합니다.
   사용자 세션을 빠르게 검증하고, 사용자가 다시 로그인 할 필요 없이 서비스를 제공합니다.

2. 종목 정보 캐싱
   종목 TOP 10, 상장 전후 가격 비교, 전체 종목 목록 등은 빈번한 조회가 예상되는
   정보들로 캐싱합니다. 이는 실시간으로 최신 정보를 보여주어야 하므로 적절한
   간격으로 업데이트하고, 캐시 무효화를 적절하게 적용하여 최신 정보를 유지해야 합니다.

3. 뉴스 및 커뮤니티 캐싱
   뉴스 슬라이더, 커뮤니티 게시글 등 자주 조회되므로 캐싱합니다.
   추가되거나 수정될 대 캐시를 업데이트 합니다.

4. 검색 결과 캐싱
   검색 결과를 캐싱하면 검색 성능을 향상시킵니다.
   검색 키워드나 결과를 캐시하고, 검색 패턴을 분석할 수 있습니다.

5. 차트 데이터 캐싱
   주식에서 시각적인 정보에 해당하는 차트는 중요한 역할을 하므로
   빠른 로딩을 위한 캐싱을 합니다. 마찬가지로 일정 시간 간격으로
   업데이트해야 합니다.

---

앱의 사용자 수가 많고 데이터 용량이 크면 분산 캐싱을 하고
후일에 알고리즘 기능이 필요하면 사용자 행동, 검색 패턴 등을 분석하여
어떤 데이터를 캐싱하고 삭제하고 업데이트할지 예측도 가능합니다.

---

무제한의 자원을 가정한 상황

캐시는 가능한 한 많은 데이터를 보관하여 요청 시에 빠른 응답을 제공

따라서 캐시 저장소는 매우 크고, 효율적인 검색 알고리즘과 병렬 처리를 활용하여 대량의 데이터에 대한 빠른 액세스를 지원

또한, 네트워크 대역폭 제약이 없기 때문에, 클라이언트와 서버 사이의 통신 비용은 크게 고려하지 않아도 됩니다.

---

제한된 자원을 가진 상황

제한된 자원을 가진 환경에서는 캐싱 시스템의 설계가 더욱 신중

메모리나 CPU 사용량, 네트워크 대역폭 등 모든 것이 제한적이므로, 어떤 데이터를 캐시에 보관할지, 얼마나 오랫동안 보관할지 등을 결정하는 캐시 정책을 효율적으로 설정

이런 경우, 일반적으로 LRU(Least Recently Used), LFU(Least Frequently Used) 같은 캐시 교체 알고리즘을 사용하여 가장 적게 사용되는 항목이나 가장 오래된 항목부터 캐시에서 제거합니다. 또한, 캐시 내에 저장되는 데이터의 크기도 고려해야 할 수 있습니다. 너무 큰 데이터는 캐시에 저장되는 다른 항목의 수를 줄이거나 메모리 부족을 일으킬 수 있기 때문입니다.

또한, 네트워크 대역폭의 제약이 있을 경우, 캐시 갱신 정책(예: TTL, Time To Live)을 적절히 설정하여 네트워크 트래픽을 최적화하는 것도 중요합니다. 이는 서버와 클라이언트 간의 통신 비용을 최소화하는데 도움이 됩니다.

결국, 캐싱 시스템의 설계는 사용 가능한 자원, 애플리케이션의 요구 사항, 그리고 트래픽 패턴 등 다양한 요인을 고려하여 이루어집니다. 자원이 제한적인 경우라면 이러한 요인들을 더욱 신중하게 고려해야 합니다.
