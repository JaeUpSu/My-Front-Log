<img src="../Image/github_logo.jpg" style="object-fit: cover" width="100%"/>

<br>
<br>


# ⚒️  `Git Study 4.0`

<br>

> ### **분산 버전 관리 시스템**

<br>
<br>

> ### **Branch**

<br>
<br>

- **`Branch 개념`**

    - '*' 가 붙어있는 브랜치
        - 현재 작업 중인 브랜치
        - HEAD 를 의미
    - Branch 는 단순하게 하나의 커밋
        - 가장 최신 커밋
        - 구조
            - master 커밋 + feature* 커밋
            - 부모 커밋에 대한 정보를 담은 New 커밋 객체
                - 부모 커밋은 자식 커밋 정보 X


<br>


- **`branch 명령어`**

    - git branch
        - [-v]
            - 로컬저장소 브랜치 목록 보기
        - [-f] <브랜치 이름> [커밋체크섬]
            - 새로운 브랜치 생성
            - 커밋체크섬 값을 주지 않으면 HEAD 로 부터 브랜치 생성
            - 이미 있는 브랜치를 다른 커밋으로 옮기고 싶을 때 -f 옵션 필요
        - -r[v]
            - 원격저장소 브랜치 보기
            - -v 옵션 추가하여 커밋 요약 가능
        - -d <브랜치 이름>
            - 특정 브랜치 삭제
            - HEAD 브랜치나 벼합이 되지 않은 브랜치는 삭제 불가
        - -D <브랜치 이름>
            - 특정 브랜치 강제 삭제
            - -d 로 삭제 불가한 브랜치를 삭제할 때 사용

    - git checkout
        - <브랜치 이름> [커밋체크섬]
            - 특정 브랜치로 이동할때 사용
            - 브랜치 이름 대신 커밋체크섬 사용 가능
            - 브랜치 이름으로 할 것을 적극 권장
        - -b <브랜치 이름> [커밋체크섬]
            - 특정 커밋에서 브랜치 새로 생성과 동시에 이도
            - 두 명령어를 하나로 합친 명령
            
    - git merge <대상 브랜치> 
         - 현재 브랜치와 대상 브랜치로 병합할 때 사용
         - 병합 커밋 새로 생기는 경우 존재

    - git rebase <대상 브랜치> 
         - 내 브랜치 커밋들을 대상 브랜치로 재배치
         - 히스토리 깔끔


<br>


> Q. Git 에서 브랜치는 ?

- 커밋에 대한 이동 가능한 경량 포인터를 의미 
- 어원은 아마도 다양한 발전 경로를 상징하는 나무 가지의 비유에서 유래
- 브랜치를 생성한다는 것은 본질적으로 새로운 개발 라인을 생성한다는 의미


<br>

> Q. 브랜치를 사용해야 되는 경우 ?

- 기능 개발
    - 새로운 기능을 개발할 때 매우 유용
    - 각각의 새로운 기능은 자체 브랜치에서 개발 가능
    - 주요 개발 라인 (보통 main 또는 master branch) 을 안정적으로 유지

- 버그 수정
    - 버그 수정을 위해 새 분기를 생성 가능
    - 안정적인 버전의 코드베이스에 영향을 주지 않음 

- 실험
    - 새로운 아이디어나 개념을 실험하고 싶다면 새로운 브랜치를 만드는 것
    - 안정적인 버전의 코드베이스에 영향을 주지 않음

- 협업
    - 여러 개발자가 동일한 프로젝트에서 작업하는 경우 브랜치를 사용하면 각 개발자가 자신의 개발 라인에서 독립적으로 작업 가능 
    - 나중에 다시 메인 브랜치로 병합

- 릴리스 관리
    - 브랜치를 사용하여 다양한 버전의 소프트웨어 릴리스를 유지 가능 
    - 새 버전 개발을 계속하면서 이전 버전의 프로젝트를 유지해야 하는 경우

- 이외
    - 병합과 리베이스 테스트
    - 이전 코드 개선
    - 특정 커밋으로 돌아가고 싶을 때

<br>

> Q. HEAD 에 대해 기억할 점 ?

- HEAD 는 현재 작업 중인 브랜치
- 브랜치는 커밋을 가리키므로 HEAD도 커밋을 가리킴
- 결국 HEAD 는 현재 작업 중인 브랜치의 최근 커밋을 가리킴


<br>

> Q. revert 를 사용해서 커밋 되돌리는 경우 ?

- master 브랜치에 있는 기능 하나 취소하는 경우 발생
    - 새로운 브랜치를 만들고 한 땀 한 땀 수동으로 변경사항을 직접 수정해서 master 브랜치에 PR 을 통해 병합
    <br><br> **`OR`** <br><br>
    - rebase -i 등을 이용해 필요 커밋만 남기고 master 브랜치에 강제 푸시
    <br><br> **`BUT`** <br><br>

    - git revert 명령을 사용하면 간단히 해결
        - git revert <커밋 이름>
        - 최신 커밋부터 취소 
        - 이전의 히스토리를 변경하지 않아도 깔끔하게 히스토리 중간의 여러 커밋 내용을 이전 상태로 복구 가능